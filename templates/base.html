{% load static %}
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Moneys</title>

    <link href="{% static 'lib/c3/c3.css' %}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="{% static 'css/main.css' %}"/>
</head>
<body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Moneys</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="{% block home %}{% endblock home %}">
                        <a href="{% url 'home' %}">Home</a>
                    </li>
                    <li class="{% block import_csv %}{% endblock import_csv %}">
                        <a href="{% url 'import_csv' %}">Import CSV</a>
                    </li>
                    <li class="{% block new_expense %}{% endblock new_expense %}">
                        <a href="{% url 'new_expense' %}">New expense</a>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </div>

    <div class="container">
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% block content %}{% endblock %}
    </div>

    <script type="text/html" id="tpl-expense-collection">
        <strong>Page: <%= page %></strong>
        <ul>
            <% _.each(expenses, function(expense) { %>
                <li>
                    <span class="label label-primary"><%= expense.transaction_date %></span>
                    <span><%= expense.description %></span>
                    <% if (expense.debit_amount) { %>
                    <span class="label label-danger">£<%= expense.debit_amount %></span>
                    <% } %>
                    <% if (expense.credit_amount) { %>
                    <span class="label label-success">£<%= expense.credit_amount %></span>
                    <% } %>
                </li>
            <% }); %>
        </ul>
        <% if (hasPreviousPage) { %>
        <button type="button" class="btn btn-default previous-page">Previous page</button>
        <% } %>
        <% if (hasNextPage) { %>
        <button type="button" class="btn btn-default next-page">Next page</button>
        <% } %>
    </script>

    <script src="{% static 'lib/d3/d3.js' %}" charset="utf-8"></script>
    <script src="{% static 'lib/c3/c3.js' %}"></script>

    <script src="{% static 'lib/jquery/dist/jquery.js' %}"></script>
    <script src="{% static 'lib/underscore/underscore.js' %}"></script>
    <script src="{% static 'lib/backbone/backbone.js' %}"></script>

    <script src="{% static 'js/app.js' %}"></script>
    <script src="{% static 'js/models.js' %}"></script>
    <script src="{% static 'js/collections.js' %}"></script>
    <script src="{% static 'js/views.js' %}"></script>
    
    {% block extra_js %}{% endblock %}
    
    <script src="{% static 'js/main.js' %}"></script>

</body>
</html>